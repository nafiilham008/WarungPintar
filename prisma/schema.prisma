generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Product {
  id        Int      @id @default(autoincrement())
  no        Int?
  kategori  String?
  nama      String
  harga     Float    // Menggunakan Float agar fleksibel, nanti bisa diformat jadi Rupiah di frontend
  satuan    String?
  lokasi    String   // "Keterangan Tempat"
  detail    String?  // "keterangan lanjutan..."
  stok      Int      @default(0) // Kolom tambahan buat manajemen stok nanti
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model User {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  password  String   // Akan di-hash
  createdAt DateTime @default(now())
}

model ScanLog {
  id        Int      @id @default(autoincrement())
  query     String   // Nama barang yang teridentifikasi
  success   Boolean  @default(true)
  timestamp DateTime @default(now())
}

// Model untuk pengaturan sistem (Key-Value Store)
model SystemSetting {
  key   String @id @unique // e.g., 'GEMINI_API_KEY', 'GEMINI_MODEL'
  value String
}
